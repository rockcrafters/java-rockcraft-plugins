apply plugin: DisableRepos
class DisableRepos implements Plugin<Gradle> {
    void apply(Gradle gradle) {
        String localRepo = "file:///home/ubuntu/.m2/repository"
        gradle.settingsEvaluated { settings ->
            settings.pluginManagement.repositories {
                clear()
                maven {
                    url localRepo
                }
            }
        }
        gradle.beforeSettings { settings ->
            settings.pluginManagement.repositories {
                clear()
                maven {
                    url localRepo
                }
            }
        }
        gradle.allprojects {
            project.repositories {
                clear()
                maven {
                    url localRepo
                }
            }
            project.buildscript {
                repositories {
                    clear()
                    maven {
                        url localRepo
                    }
                }
            }
        }
    }
}
